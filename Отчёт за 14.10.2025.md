# Проект "Лабиринт"

## Описание проекта

Данный проект представляет собой браузерную игру, где пользователь должен вывести треугольник из лабиринта, не касаясь стен. Управление осуществляется мышью. Приложение реализовано на FastAPI (Python) с фронтендом на чистом HTML/JS/CSS.

## Основные функции

- Генерация лабиринта с четырьмя уровнями сложности
- Рисование лабиринта и анимированного курсора-треугольника на HTML5 canvas
- Проверка столкновений: поражение при касании любой частью треугольника стены
- Победа при прохождении к финишной клетке
- Выбор сложности через интерфейс
- Красивая анимация

## Технологии

- **Back-end:** FastAPI (Python), генератор лабиринта
- **Front-end:** HTML, CSS, Vanilla JS (canvas)
- **Web server:** Uvicorn

## Архитектура

- `app/main.py` — запуск FastAPI-приложения, маршруты
- `app/maze.py` — генерация лабиринта (случайная, всегда проходимая)
- `app/routes.py` — REST API `/api/maze?level=N` для генерации лабиринта по сложности
- `templates/index.html` — основная страница игры
- `static/main.js` — отрисовка canvas, логика взаимодействия, проверки хитбоксов
- `static/styles.css` — оформление и адаптивность

## Логика игры

1. При открытии страницы отображаются кнопки выбора сложности.
2. После выбора сложности загружается сгенерированный сервером лабиринт.
3. Для старта игрок кликает на зелёную стартовую клетку.
4. Вместо обычного курсора появляется равносторонний чёрный треугольник с аурой, который вращается.
5. Игрок ведёт треугольник через лабиринт к красной финишной клетке.  
6. Если треугольник касается стены хоть одной вершиной или рёбром — попытка сбрасывается, появляется сообщение о неудаче.
7. При достижении финиша выводится поздравление.

## Алгоритмы и особенности

- Генерация лабиринта — backtracking (DFS), размеры и сложность варьируются через `complexity_to_size`.
- Коллизии: хитбокс считается как для вершин, так и для рёбер треугольника (семплирование точек).
- Треугольник размером зависит от ширины ячейки и масштаба.
- Отрисовка и коллизии выполняются каждый кадр через `requestAnimationFrame`.

## Инструкция по запуску

1. Установить зависимости:
    ```bash
    pip install -r requirements.txt
    ```
2. Запустить сервер:
    ```bash
    uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
    ```
3. Открыть в браузере `http://localhost:8000`.

## Возможные улучшения

- Таблица рекордов, таймер
- Управление с клавиатуры/тач-устройств
- Более сложная/узкая генерация лабиринтов
- UX-фишки: зум, подсветка путей, подсказки, режимы для детей